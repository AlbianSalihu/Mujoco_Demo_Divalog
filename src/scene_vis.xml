<mujoco model="panda_scene">
  <option timestep="0.01" gravity="0 0 -9.81"/>
  <compiler angle="degree"/>

  <include file="{PANDA_PATH}"/>

  <default>
    <geom friction="1.0 0.005 0.0001" margin="0.001" condim="3"
          solimp="0.95 0.99 0.001" solref="0.008 1" />
    <default class="label">
      <geom rgba="0 0 0 1" contype="0" conaffinity="0"/>
    </default>
  </default>
  <asset>
    <mesh name="divalog_mesh" file="../../../src/divalog.stl" scale="0.001 0.001 0.001"/>
    <material name="logo_black" rgba="0 0 0 1"/>
  </asset>

  <worldbody>
    <camera name="overhead" pos="0.6 0.0 0.80" euler="0 0 0" fovy="30"/>

    <body name="tcp_debug" mocap="true">
      <geom type="sphere" size="0.0005" rgba="0 1 1 1" contype="0" conaffinity="0"/>
    </body>

    <body name="ee_target_marker" mocap="true">
      <geom type="sphere" size="0.001" rgba="1 0 1 1" contype="0" conaffinity="0"/>
    </body>

    <!-- Sol (plan à z=0) -->
    <geom name="floor" type="plane" size="2 2 0.1" pos="0 0 0" rgba="0.9 0.9 0.9 1"/>

    <!-- Table : demi-épaisseur = 0.03 -> top à z = 0.06 -->
    <body name="table" pos="0.6 0 0.03">
      <geom type="box" size="0.40 0.50 0.03" rgba="0.8 0.8 0.8 1"/>
       <body name="divalog_logo" pos="-0.20 -0.10 0.0308">
        <geom type="mesh" mesh="divalog_mesh" material="logo_black"
              contype="0" conaffinity="0" density="0"
              euler="0 0 1.57"/>
      </body>
    </body>    

    <!-- Vis posée sur la table -->
    <body name="screw_static" pos="0.6 0.10 0.3">
      <joint type="free"/>
      <geom name="screw_head"  type="cylinder" size="0.008 0.003" rgba="0.25 0.25 0.28 1"/>
      <geom name="screw_shaft" type="cylinder" size="0.003 0.015" pos="0 0 -0.018" rgba="0.25 0.25 0.28 1"/>
    </body>

    <!-- Marqueur pour debug/vision -->
    <site name="target_site" pos="0.6 0.10 0.006" size="0.001" rgba="1 0 0 1"/>
  </worldbody>
</mujoco>
